<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | Archives: 2014 | realguess</title>
  <meta name="author" content="Chao Huang">
  
  <meta name="description" content="Just a blog about every detail encountered.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="realguess"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="realguess" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45698182-1', 'realguess.net');
  ga('send', 'pageview');
</script>


</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">realguess</a></h1>
  <h2><a href="/">Don't afraid to try!</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2014</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-02-12T06:42:55.000Z"><a href="/2014/02/11/defining-correct-environment-for-coffeescript-in-cron/">Feb 11, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/02/11/defining-correct-environment-for-coffeescript-in-cron/">Defining Correct Environment for CoffeeScript in Cron</a></h1>
  

    </header>
    <div class="entry">
      
        <p>I have written a bunch of CoffeeScript scripts that I would like to run them regularly. <a href="http://en.wikipedia.org/wiki/Cron">Cron</a> is certainly the right choice in many situation.</p>
<p>The default executable path recognized by cron is limited:</p>
<pre><code>* * * * * echo <span class="variable">$PATH</span> &gt; <span class="regexp">/tmp/log</span><span class="regexp">/cron.log</code></pre>
<p>This cron job will recognize the following path:</p>
<pre><code>/usr/bin:<span class="regexp">/bin</code></pre>
<p>However the default executable path for Node.js is usually at:</p>
<pre><code><span class="variable">$ </span>which node
/usr/local/bin/node</code></pre>
<p>Therefore, if you attempt to run a cron job:</p>
<pre><code>* * * * * node -v &gt; /tmp/<span class="built_in">log</span>/cron.<span class="built_in">log</span> <span class="number">2</span>&gt; /tmp/<span class="built_in">log</span>/cron.<span class="built_in">err</span>.<span class="built_in">log</span></code></pre>
<p>It will return an error, where the executable is not found:</p>
<pre><code><span class="attribute">bin/sh</span>: <span class="string">1: node: not found</span></code></pre>
<p>The easiest way to solve it is by specifying the fully qualified path:</p>
<pre><code>* * * * * <span class="regexp">/usr/local</span><span class="regexp">/bin/node</span> -v &gt; <span class="regexp">/tmp/log</span><span class="regexp">/cron.log</code></pre>
<p>To ensure the process is installed, we can check the file existence and permission before launching it:</p>
<pre><code><span class="bullet">* </span><span class="bullet">* *</span> <span class="bullet">* *</span> test -x /usr/local/bin/node &amp;&amp; /usr/local/bin/node -v</code></pre>
<p>But when working with CoffeeScript, the same method does not working:</p>
<pre><code>* * * * * <span class="regexp">/usr/local</span><span class="regexp">/bin/coffee</span> -v <span class="number">2</span>&gt; <span class="regexp">/tmp/log</span><span class="regexp">/cron.err.log</code></pre>
<p>Because CoffeeScript binary (<code>coffee</code>) use the following format:</p>
<pre><code><span class="shebang">#!/usr/bin/env node</span></code></pre>
<p>Which does not specify fully qualified path on the shebang line, and will result in:</p>
<pre><code>/usr/bin/<span class="method">env:</span> <span class="method">node:</span> <span class="class">No</span> such file or directory</code></pre>
<p>We can compile CoffeeScript into JavaScript and use fully qualified <code>node</code> executable. But this is not necessary. Since we are using Debian based system, which uses Vixie cron. It allows environment variables to be defined. We can make Cron aware of the custom path in environment variable:</p>
<pre><code>* * * * * <span class="constant">PATH</span>=<span class="variable">$PATH</span><span class="symbol">:/usr/local/bin</span> coffee -v &gt; <span class="regexp">/tmp/log</span><span class="regexp">/cron.log</code></pre>
<p>Now the executable path include the one where both <code>node</code> and <code>coffee</code> commands reside.</p>
<p>We can also move it to its own line. But Cron is not shell, it does not expand the variable, so you have to specify all paths:</p>
<pre><code><span class="comment"># Error: `PATH=$PATH:/usr/local/bin`</span>
<span class="constant">PATH</span>=<span class="regexp">/usr/bin</span><span class="symbol">:/bin</span><span class="symbol">:/usr/local/bin</span>
* * * * * coffee -v &gt; <span class="regexp">/tmp/log</span><span class="regexp">/cron.log</code></pre>
<p>The good practice is to set environment variables in a script:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="comment">#!/usr/bin/env bash</span>
<span class="comment">#</span>
<span class="comment"># This script is intended to be run as a cron job.</span>

<span class="constant">PATH</span>=<span class="variable">$PATH</span><span class="symbol">:/usr/local/bin</span>
coffee -v
</pre></td></tr></table></figure>

<p>and run the script as a cron job:</p>
<pre><code>* * * * * /path/<span class="keyword">to</span>/script &gt; /tmp/<span class="built_in">log</span>/cron.<span class="built_in">log</span> <span class="number">2</span>&gt;&gt; /tmp/<span class="built_in">log</span>/cron.<span class="built_in">err</span>.<span class="built_in">log</span></code></pre>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-25T05:19:23.000Z"><a href="/2014/01/24/null/">Jan 24, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/24/null/">null</a></h1>
  

    </header>
    <div class="entry">
      
        <p>In JavaScript, you assign value <code>null</code> to an object property to indicate that the property is defined but with no value. But using <code>null</code> outside the JavaScript domain becomes tricky. For example, in URL query parameters:</p>
<pre><code>?foo=<span class="keyword">null</span>&amp;bar=bar</code></pre>
<p>after parsing the query:</p>
<pre><code>{
  "<span class="attribute">foo</span>": <span class="value"><span class="string">"null"</span></span>,
  "<span class="attribute">bar</span>": <span class="value"><span class="string">"bar"</span>
}</span></code></pre>
<p>Should the value of <code>foo</code> be parsed from <code>&quot;null&quot;</code> string into <code>null</code> object? Unless you know the context.</p>
<p>Using <code>null</code> in both schema design and URL query gave me a few headaches. So, I have decided to use string and throw away <code>null</code>.  As string is the most basic data type across many applications. For simplier design and greater compatibility and portability, use empty string instead of <code>null</code>.</p>
<p>Therefore, the value of query parameter <code>foo</code> should be:</p>
<pre><code>?foo=<span class="keyword">null</span>&amp;bar=bar <span class="comment">// "null"</span>
?foo=&amp;bar=bar     <span class="comment">// ""</span></code></pre>
<p>and:</p>
<pre><code><span class="string">"null"</span> <span class="exclamation_mark">!</span>== <span class="string">""</span></code></pre>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-22T19:59:01.000Z"><a href="/2014/01/22/hipchat/">Jan 22, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/22/hipchat/">HipChat</a></h1>
  

    </header>
    <div class="entry">
      
        <p>While I was learning more on distributed team and remote working. I saw many startups are using <a href="https://www.hipchat.com/">HipChat</a>, a group chatting service. If you have been using IRC, you will feel right at home. But it is not just a group chat, you can also share files and source code. Here are a few things I like so far.</p>
<p><strong>Virtual office</strong></p>
<p>The most appealing is the concept of “virtual office”. This certainly will help a distributed team. It gives you a sense of being in the office at the same time but without constant disruption.</p>
<p><strong>Reduce emails</strong></p>
<p>The advantage it has over email is that all messages are within team only. Team messages should take priority over others. And you know that you cannot control your inbox. Hopefully this will cut down the unnecessary emails and facilitate quicker response.</p>
<p><strong>Search past chat history</strong></p>
<p>All chats are saved and indexed, so if you say that you are going to do something, you&#39;d better do it, because it will be recorded and searcheable in the future. Meetings could be conducted in the chat room as well, as all details are saved, without pulling all people out of their seats at the same time.</p>
<p><strong>Integration and API</strong></p>
<p>I have integrated with <a href="https://bitbucket.org/">BitBucket</a>, so all commits will show up in one of our chat rooms. This chat room becomes our notification center. There are many other integration such as Basecamp, Evernote. And There is also an API that can be used to create custom integration.</p>
<p><strong>Slash commands and emoticons</strong></p>
<p>I also like the <a href="http://help.hipchat.com/knowledgebase/articles/64451-work-faster-with-slash-commands">slash commands</a> and <a href="http://hipchat-emoticons.nyh.name/">emoticons</a>.</p>
<p>So, I just got it started with my team, let me see how it goes.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-20T07:05:04.000Z"><a href="/2014/01/19/difference-between-http-head-and-get/">Jan 19, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/19/difference-between-http-head-and-get/">Difference between HTTP HEAD and GET</a></h1>
  

    </header>
    <div class="entry">
      
        <blockquote>
<p>The HEAD method is identical to GET except that the server MUST NOT return a message-body in the response. The metainformation contained in the HTTP headers in response to a HEAD request SHOULD be identical to the information sent in response to a GET request. - <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">Method Definitions</a></p>
</blockquote>
<p>I was a little bit confused when I encoutered the HTTP status code <code>204</code>, which states that the response MUST NOT include a message body. The <code>HEAD</code> method contains no body content as well. Should I use <code>204</code> instead of <code>200</code>?</p>
<p>The answer is <strong>NO</strong>. <code>GET</code> method should always return HTTP status code of 200. Since <code>HEAD</code> method is idential to <code>GET</code>, it should return <code>200</code> as well. Just keep in mind that the cost of processing both <code>HEAD</code> and <code>GET</code> requests are almost the same.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-20T03:54:25.000Z"><a href="/2014/01/19/not-ready-for-xiaomi/">Jan 19, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/19/not-ready-for-xiaomi/">Not Ready for Xiaomi</a></h1>
  

    </header>
    <div class="entry">
      
        <p>When I was in the United States, I have heard of many good news about <a href="http://www.xiaomi.com/en">Xiaomi</a>, a Chinese smartphone company. And people are comparing the founder <a href="http://www.weibo.com/leijun">Lei Jun</a> to Steve Jobs. I was very excited when I got to China and eager to get my hand on a <a href="http://www.xiaomi.com/en/mi3">Mi3</a>.</p>
<p><img src="/img/2014-01-19/mi3.jpg" alt="Mi3"></p>
<p>Well, I didn‘t get it, not saying that I did not try, maybe I didn’t try hard enough. But in some situations, this might be a good thing.</p>
<p>The phones were quickly sold out within minutes. The official number of phones sold is remarkable according the manufacturer. But first do you trust these numbers? Maybe I just dislike the marketing technique more. I have read many reviews, people are saying that the marketing technique is awful. While they keep up the demand by limiting the supply from the company website. You can actually buy higher price ones from other retailers.</p>
<p>Another problem is the quality of the phone. When I first asked my friend for the opinion of buying, he simply replied “trash”. When I asked another friend, she told me that she had two previous version Xiaomi phones, and they both broke down. I have used two iPhones and I have never had any problem with it.</p>
<p>It boils down to quality vs. quantity. Selling by creating a tricky marketing technique and with <a href="http://en.miui.com/thread-12840-1-1.html">misleading</a> information to boost the quantity without really focusing on the quality is sad. Without changing the DNA, the company is not going far, no matter how much money raises.</p>
<p>I am just happy with my Nexus for now.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-17T22:13:03.000Z"><a href="/2014/01/17/a-new-nodejs-web-framework-koa/">Jan 17, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/17/a-new-nodejs-web-framework-koa/">A New NodeJS Web Framework - Koa</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Taking the first spin on <a href="http://koajs.com/">Koa</a>, a new web framework designed by the team behind <a href="http://expressjs.com/">Express</a>.</p>
<h2>Requirements</h2>
<ol>
<li>Node v0.11.9 or higher is required for generator support.</li>
<li><code>--harmony</code> flag must be used when running Node.</li>
</ol>
<p>Without the <code>--harmony</code> flag, genertor function cannot be defined:</p>
<pre><code><span class="function"><span class="keyword">function</span> *<span class="title">fn</span><span class="params">()</span> {</span>
           ^
SyntaxError: Unexpected token *
    at <span class="transposed_variable">exports.</span>runInThisContext (<span class="transposed_variable">vm.</span>js:<span class="number">69</span>:<span class="number">16</span>)
    at <span class="transposed_variable">Module.</span>_compile (<span class="transposed_variable">module.</span>js:<span class="number">432</span>:<span class="number">25</span>)
    at <span class="transposed_variable">Object.</span><span class="transposed_variable">Module.</span><span class="transposed_variable">_extensions..</span>js (<span class="transposed_variable">module.</span>js:<span class="number">467</span>:<span class="number">10</span>)
    at <span class="transposed_variable">Module.</span>load (<span class="transposed_variable">module.</span>js:<span class="number">349</span>:<span class="number">32</span>)
    at <span class="transposed_variable">Function.</span><span class="transposed_variable">Module.</span>_load (<span class="transposed_variable">module.</span>js:<span class="number">305</span>:<span class="number">12</span>)
    at <span class="transposed_variable">Function.</span><span class="transposed_variable">Module.</span>runMain (<span class="transposed_variable">module.</span>js:<span class="number">490</span>:<span class="number">10</span>)
    at startup (<span class="transposed_variable">node.</span>js:<span class="number">123</span>:<span class="number">16</span>)
    at <span class="transposed_variable">node.</span>js:<span class="number">1031</span>:<span class="number">3</span></code></pre>
<p>So, set the <code>--harmony</code> flag in shell alias:</p>
<pre><code>$ <span class="keyword">alias</span> node=<span class="attribute">'node</span> <span class="comment">--harmony'</span></code></pre>
<p>To know more:</p>
<pre><code>$ man node
--harmony (enable all harmony features (except <span class="keyword">typeof</span>))
      type: <span class="keyword">bool</span>  <span class="keyword">default</span>: <span class="keyword">false</span></code></pre>
<p><em>Harmony</em> is the codename of ECMAScript 6, the next version of the standard.</p>
<h2>Install</h2>
<pre><code><span class="variable">$ </span>npm install koa</code></pre>
<p>The footprint of the framework is small. Therefore, there is no executable binary like Express, and we do not need to install it globally.</p>
<h2>Dependencies</h2>
<p>Dependencies on version 0.2.1:</p>
<pre><code><span class="string">"dependencies"</span>: {
  <span class="string">"accepts"</span>: <span class="string">"~1.0.0"</span>,
  <span class="string">"type-is"</span>: <span class="string">"~1.0.0"</span>,
  <span class="string">"on-socket-error"</span>: <span class="string">"~1.0.1"</span>,
  <span class="string">"co"</span>: <span class="string">"~3.0.1"</span>,
  <span class="string">"debug"</span>: <span class="string">"<span class="variable">*"</span>,
  "</span>mime<span class="string">": "</span>~<span class="number">1.2</span>.<span class="number">11</span><span class="string">",
  "</span>fresh<span class="string">": "</span>~<span class="number">0</span>.<span class="number">2.0</span><span class="string">",
  "</span>koa-compose<span class="string">": "</span>~<span class="number">2.1</span>.<span class="number">0</span><span class="string">",
  "</span>cookies<span class="string">": "</span>~<span class="number">0</span>.<span class="number">3.7</span><span class="string">",
  "</span>keygrip<span class="string">": "</span>~<span class="number">1.0</span>.<span class="number">0</span><span class="string">"
}</code></pre>
<h2>Middleware</h2>
<p>Middleware system is the core of either Express or Koa based application. This needs a separate post. Here just describes the difference in design.</p>
<p>In a simple assembly design, each unit passes control to the next one until the last one terminates and responses to the request:</p>
<pre><code>    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">o</span>
    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span></code></pre>
<p>Express middleware passes control to the next one like an assembly line, but each unit is capable of responding to the request:</p>
<pre><code>       <span class="comment">o</span>           <span class="comment">o</span>           <span class="comment">o</span>
       <span class="comment">|</span>           <span class="comment">|</span>           <span class="comment">|</span>
    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span>
    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span></code></pre>
<p>Koa provides a traceback via generator, each unit is capable of working on the request twice instead of once as previous two designs. It is stack alike, where the first generator will also be the last one prior to responding to request:</p>
<pre><code>       <span class="comment">o</span>
       <span class="comment">|</span>
    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
<span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span> <span class="literal">-</span><span class="literal">-</span>&gt; <span class="comment">|</span>     <span class="comment">|</span>
    <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>     <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span>
       <span class="comment">^</span>          <span class="comment">|</span> <span class="comment">^</span>         <span class="comment">|</span>
       <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span> <span class="literal">+</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">-</span><span class="literal">+</span></code></pre>
<p>This is sort of an assembly loop, where the starting station is also be the ending station.</p>
<h2>Usage</h2>
<p>Here is one liner:</p>
<pre><code>require(<span class="string">'koa'</span>)().use(<span class="function"><span class="keyword">function</span> *<span class="params">()</span> { <span class="title">this</span>.<span class="title">body</span> = '<span class="title">OK</span>'; }).<span class="title">listen</span><span class="params">(3000)</span>;</span></code></pre>
<p><code>app.use</code> requires a generator function or <code>function *()</code>. Koa middleware uses <code>this</code> (context) instead of <code>req</code> and <code>res</code> in Express. It also encapsulates Node&#39;s <code>request</code> and <code>response</code> objects. For example, <code>this</code> or context has the following properties:</p>
<pre><code>[ &#39;request&#39;,     // Koa request
  &#39;response&#39;,    // Koa response
  &#39;app&#39;,
  &#39;req&#39;,         // Node request
  &#39;res&#39;,         // Node response
  &#39;onerror&#39;,
  &#39;originalUrl&#39;,
  &#39;cookies&#39;,
  &#39;accept&#39; ]</code></pre>
<h3>Status and Body</h3>
<p>Status can be used as a flag indicating whether a request has been processed or not:</p>
<pre><code>app.<span class="keyword">use</span>(<span class="function"><span class="keyword">function</span> *<span class="params">()</span> {</span>
  console.log(<span class="keyword">this</span>.status); <span class="comment">// undefined</span>
  <span class="keyword">this</span>.body = <span class="string">'processed'</span>;
  console.log(<span class="keyword">this</span>.status); <span class="comment">// 200</span>
});</code></pre>
<p>When the <code>body</code> is populated, <code>status</code> is automatically updated, probably via the <code>nextTick</code> method. So, we can use it as the flag to design a response such as a custom not found response.</p>
<h3>Not Found</h3>
<p>Create a custom <code>Not Found</code> in JSON content type:</p>
<pre><code>app.<span class="keyword">use</span>(<span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> {</span>
  yield next; <span class="comment">// The operation is yet to start.</span>
  <span class="keyword">if</span> (<span class="keyword">this</span>.status) { <span class="keyword">return</span>; }

  <span class="keyword">this</span>.status = <span class="number">404</span>;
  <span class="keyword">this</span>.body = { message: <span class="string">'Cannot find what you are looking for :('</span> };
});
app.<span class="keyword">use</span>(<span class="function"><span class="keyword">function</span> *<span class="params">()</span> {</span>}); <span class="comment">// Do nothing to simulate not found.</span></code></pre>
<h3>Error Handling</h3>
<p>Koa app is capable of catching the error event:</p>
<pre><code>app.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(err, ctx)</span> {</span>
  <span class="comment">// Log errors.</span>
});</code></pre>
<p>where <code>ctx</code> is a context instance. But you cannot modify the response body. This is more for server side logging and debugging purpose. The <code>500 Internal Server Error</code> will be returned to the client.</p>
<p>We can use <code>try..catch</code> to define a custom error handling middleware:</p>
<pre><code>app.use(<span class="function"><span class="keyword">function</span> *<span class="params">(next)</span> {</span>
  <span class="keyword">try</span> {
    <span class="keyword">yield</span> next;
  } <span class="keyword">catch</span> (err) {
    <span class="keyword">this</span>.status = err.status || <span class="number">500</span>;
    <span class="keyword">this</span>.body   = { message: err.message || <span class="string">'Bad stuff happened!'</span> };
    <span class="keyword">this</span>.app.emit(<span class="string">'error'</span>, err, <span class="keyword">this</span>); <span class="comment">// Enable error event handling</span>
  }
});</code></pre>
<p>Make sure to emit the error event and let the server log the error.</p>
<p>All non-operational middleware (e.g., not found or error) should be defined first, so it can be traced back as the last guards before sending response back.</p>
<h3>Routing</h3>
<p>Out of the box, Koa does not support routing, but it can be achieved via routing middleware, see <a href="https://github.com/koajs/koa/wiki">examples</a>.</p>
<h2>Examples</h2>
<p>Define an app with only one middleware generator function:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> *<span class="title">foo</span><span class="params">(next)</span> {</span>
  console.log(<span class="string">'foo'</span>);
  <span class="keyword">this</span>.status = <span class="number">204</span>;
}
require(<span class="string">'koa'</span>)().use(foo).listen(<span class="number">3000</span>);
</pre></td></tr></table></figure>

<p>Instead of using status code <code>200</code>, we use <code>204</code> here, because the response contains no body. If using <code>200</code>, the server does not know the total content length, will result in <code>Transfer-Encoding: chunked</code> header instead of <code>Content-Length</code>. See <a href="http://en.wikipedia.org/wiki/Chunked_transfer_encoding">chunked transfer encoding</a>.</p>
<p>This app simply prints out <code>foo</code> on the server side, and respond to a client with status code <code>204</code> and an empty body. We can even omit the <code>next</code> parameter, since we are not using it.</p>
<p>Now let&#39;s use two middleware generator functions:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="comment">// Response: foo</span>
<span class="function"><span class="keyword">function</span> *<span class="title">foo</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'foo'</span>;
}
<span class="function"><span class="keyword">function</span> *<span class="title">bar</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'bar'</span>;
}
require(<span class="string">'koa'</span>)().use(foo).use(bar).listen(<span class="number">3000</span>);
</pre></td></tr></table></figure>

<p>Since generator <code>foo</code> sets the body, generator <code>bar</code> will never be reached. We can change that by adding the <code>yield</code>: </p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="comment">// Response: bar</span>
<span class="function"><span class="keyword">function</span> *<span class="title">foo</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'foo'</span>;
  <span class="keyword">yield</span> next;
}
<span class="function"><span class="keyword">function</span> *<span class="title">bar</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'bar'</span>;
  <span class="keyword">yield</span> next;
}
require(<span class="string">'koa'</span>)().use(foo).use(bar).listen(<span class="number">3000</span>);
</pre></td></tr></table></figure>

<p>This looks alot like Express, <code>yeild next</code> is similar to <code>next()</code>. Request travels through the middleware system first via <code>foo</code> then <code>bar</code>. But actually by using generator, it also returns back to <code>foo</code> as <code>foo-&gt;bar-&gt;foo</code>:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="comment">// Response: foo again</span>
<span class="function"><span class="keyword">function</span> *<span class="title">foo</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'foo'</span>;
  <span class="keyword">yield</span> next;
  <span class="keyword">this</span>.body = <span class="string">'foo again'</span>;
}
<span class="function"><span class="keyword">function</span> *<span class="title">bar</span><span class="params">(next)</span> {</span>
  <span class="keyword">this</span>.body = <span class="string">'bar'</span>;
  <span class="keyword">yield</span> next;
}
require(<span class="string">'koa'</span>)().use(foo).use(bar).listen(<span class="number">3000</span>);
</pre></td></tr></table></figure>

<p>This is similar to a stack alike request model, where the first middleware should also be the last middleware to touch the request. There is a no-op middleware in the end to catch the last <code>yield next</code> produced by <code>bar</code> middleware generator and traces back the stack.</p>
<h2>Debugging</h2>
<p>Set environment variable <code>DEBUG=koa*</code> to enable Koa specific debugging information in development environment:</p>
<pre><code><span class="variable">$ </span><span class="constant">DEBUG</span>=koa* node app.js</code></pre>
<p>You will see a list of middleware. If a middleware is an anonymous function, we can set <code>._name</code> to define a custom name:</p>
<pre><code><span class="function"><span class="keyword">function</span> *<span class="title">foo</span><span class="params">(next)</span> <span class="comment">{
  // Middleware definition starts here.
}</span>
<span class="title">foo</span>._<span class="title">name</span> = '<span class="title">bar</span>';</span>
app.use(foo);</code></pre>
<p>The middleware name will be <code>bar</code> instead of <code>foo</code>.</p>
<h2>Resources</h2>
<ol>
<li><a href="http://koajs.com/">Koa</a></li>
<li><a href="https://github.com/koajs/koa">Koa | GitHub</a></li>
<li><a href="https://github.com/koajs/koa/blob/master/docs/guide.md">Koa Quick Guide</a></li>
<li><a href="https://github.com/koajs/koa/wiki">Koa Middleware List</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-09T17:18:19.000Z"><a href="/2014/01/09/working-with-big-number-in-javascript/">Jan 9, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/09/working-with-big-number-in-javascript/">Working with Big Number in JavaScript</a></h1>
  

    </header>
    <div class="entry">
      
        <p>JavaScript is only capable of handling 53-bit numbers, if you are working with a big number such as <a href="https://dev.twitter.com/docs/twitter-ids-json-and-snowflake">Twitter ID</a>, which is using 64-bit number, then you need to find an external library to do that, otherwise, there will be precision lost:</p>
<pre><code><span class="blockquote">&gt; num = 420938523475451904</span>
420938523475451900
<span class="blockquote">&gt; num = 420938523475451904 + 1</span>
420938523475451900
<span class="blockquote">&gt; num = 420938523475451904 - 1</span>
420938523475451900</code></pre>
<p>Here is one library to use in Node environment, install <a href="https://github.com/MikeMcl/big.js/">Big.js</a>:</p>
<pre><code><span class="variable">$ </span>npm install big.js</code></pre>
<p>Load the module:</p>
<pre><code>&gt; BigNum = require(<span class="comment">'big.js')</span>
{ [<span class="keyword">Function</span>: Big] DP: <span class="number">20</span>, RM: <span class="number">1</span> }</code></pre>
<p>Use string to create the big number:</p>
<pre><code>&gt; num = <span class="class">BigNum</span>(<span class="string">'420938523475451904'</span>)
{ <span class="method">s:</span> <span class="number">1</span>,
  <span class="method">e:</span> <span class="number">17</span>,
  <span class="method">c:</span> [ <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">4</span> ] }
&gt; num.toString()
<span class="string">'420938523475451904'</span></code></pre>
<p>Perform addition:</p>
<pre><code><span class="blockquote">&gt; num.plus(1).toString()</span>
'420938523475451905'</code></pre>
<p>Perform substraction:</p>
<pre><code><span class="blockquote">&gt; num.minus(1).toString()</span>
'420938523475451903'</code></pre>
<p>There are other packages that yet to be tested:</p>
<ul>
<li><a href="https://github.com/MikeMcl/bignumber.js/">bignumber.js</a></li>
<li><a href="https://github.com/rauschma/strint">strint.js</a></li>
<li><a href="http://jsfromhell.com/classes/bignumber">bignumber</a></li>
<li><a href="https://github.com/jtobey/javascript-bignum">JavaScript bignumber</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-05T22:18:22.000Z"><a href="/2014/01/05/use-vim-cryptographic-features-to-encrypt-important-text-files/">Jan 5, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/05/use-vim-cryptographic-features-to-encrypt-important-text-files/">Use Vim Cryptographic Features to Encrypt Important Text Files</a></h1>
  

    </header>
    <div class="entry">
      
        <p>You can protect your important text files by using <a href="http://www.vim.org/">Vim</a> cryptographic features.</p>
<p>Set cryptographic method to <a href="http://en.wikipedia.org/wiki/Blowfish_(cipher)">Blowfish</a>:</p>
<pre><code>:<span class="operator"><span class="keyword">set</span> cryptmethod=blowfish</code></pre>
<p>Set encryption key:</p>
<pre><code><span class="symbol">:X</span></code></pre>
<p>Save and get out:</p>
<pre><code><span class="symbol">:wq</span></code></pre>
<p>But the drawback is:</p>
<pre><code>$ grep <span class="attribute">'Vim</span>' encrypted.txt
Binary <span class="keyword">file</span> encrypted.txt matches</code></pre>
<p>References:</p>
<ul>
<li><a href="http://usevim.com/2013/11/01/vim-encryption/">Protect Notes with Vim Encryption</a></li>
<li><a href="http://vim.wikia.com/wiki/Encryption">Encryption - Vim Tips Wiki</a></li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-01-03T05:59:01.000Z"><a href="/2014/01/02/passage-of-time-2013/">Jan 2, 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/01/02/passage-of-time-2013/">Passage of Time 2013</a></h1>
  

    </header>
    <div class="entry">
      
        <ul>
<li>28 blog posts (next: weekly to every 3 days)</li>
<li>89 WeChat moments</li>
</ul>
<h2>Snapshot</h2>
<ul>
<li>29 blog posts</li>
<li>204 Twitter tweets</li>
<li>345 Twitter following</li>
<li>76 Twitter followers</li>
<li>8 GitHub followers</li>
<li>334 GitHub starred</li>
<li>27 GitHub following</li>
<li>10 GitHub source repositories</li>
<li>5 GitHub forked repositories</li>
<li>13 Hacker News karma</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


  

  <nav id="pagination">
  
    <a href="/archives/2014/" class="alignleft prev">Prev</a>
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:realguess.net">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/2013/">2013</a><small>1</small></li>
  
    <li><a href="/tags/absolute-path/">absolute-path</a><small>1</small></li>
  
    <li><a href="/tags/amazon/">amazon</a><small>1</small></li>
  
    <li><a href="/tags/amtrak/">amtrak</a><small>1</small></li>
  
    <li><a href="/tags/android/">android</a><small>1</small></li>
  
    <li><a href="/tags/android-4.3/">android-4.3</a><small>1</small></li>
  
    <li><a href="/tags/anonymous-function/">anonymous-function</a><small>1</small></li>
  
    <li><a href="/tags/array/">array</a><small>2</small></li>
  
    <li><a href="/tags/automatic-link/">automatic-link</a><small>1</small></li>
  
    <li><a href="/tags/awk/">awk</a><small>1</small></li>
  
    <li><a href="/tags/aws/">aws</a><small>2</small></li>
  
    <li><a href="/tags/aws-cli/">aws-cli</a><small>1</small></li>
  
    <li><a href="/tags/best-practice/">best-practice</a><small>1</small></li>
  
    <li><a href="/tags/big-apple/">big-apple</a><small>1</small></li>
  
    <li><a href="/tags/big-easy/">big-easy</a><small>1</small></li>
  
    <li><a href="/tags/big-number/">big-number</a><small>1</small></li>
  
    <li><a href="/tags/browser/">browser</a><small>1</small></li>
  
    <li><a href="/tags/cat/">cat</a><small>1</small></li>
  
    <li><a href="/tags/chat/">chat</a><small>1</small></li>
  
    <li><a href="/tags/chrome/">chrome</a><small>1</small></li>
  
    <li><a href="/tags/cli/">cli</a><small>1</small></li>
  
    <li><a href="/tags/cloud-storage/">cloud-storage</a><small>1</small></li>
  
    <li><a href="/tags/cocoon/">cocoon</a><small>1</small></li>
  
    <li><a href="/tags/coding-style/">coding-style</a><small>1</small></li>
  
    <li><a href="/tags/coffeelint/">coffeelint</a><small>1</small></li>
  
    <li><a href="/tags/coffeescript/">coffeescript</a><small>7</small></li>
  
    <li><a href="/tags/command-history/">command-history</a><small>1</small></li>
  
    <li><a href="/tags/command-line/">command-line</a><small>1</small></li>
  
    <li><a href="/tags/command-line-interface/">command-line-interface</a><small>1</small></li>
  
    <li><a href="/tags/configuration/">configuration</a><small>1</small></li>
  
    <li><a href="/tags/crescent/">crescent</a><small>1</small></li>
  
    <li><a href="/tags/cron/">cron</a><small>2</small></li>
  
    <li><a href="/tags/crontab/">crontab</a><small>1</small></li>
  
    <li><a href="/tags/cryptography/">cryptography</a><small>1</small></li>
  
    <li><a href="/tags/custom-domain/">custom-domain</a><small>1</small></li>
  
    <li><a href="/tags/custom-generator/">custom-generator</a><small>1</small></li>
  
    <li><a href="/tags/cwd/">cwd</a><small>1</small></li>
  
    <li><a href="/tags/datagram/">datagram</a><small>1</small></li>
  
    <li><a href="/tags/date/">date</a><small>1</small></li>
  
    <li><a href="/tags/diff/">diff</a><small>1</small></li>
  
    <li><a href="/tags/distributed-team/">distributed-team</a><small>1</small></li>
  
    <li><a href="/tags/docco/">docco</a><small>1</small></li>
  
    <li><a href="/tags/echo/">echo</a><small>1</small></li>
  
    <li><a href="/tags/ecmascript-harmony/">ecmascript-harmony</a><small>1</small></li>
  
    <li><a href="/tags/encryption/">encryption</a><small>1</small></li>
  
    <li><a href="/tags/environment/">environment</a><small>2</small></li>
  
    <li><a href="/tags/environment-variable/">environment-variable</a><small>1</small></li>
  
    <li><a href="/tags/express/">express</a><small>1</small></li>
  
    <li><a href="/tags/file-system/">file-system</a><small>1</small></li>
  
    <li><a href="/tags/filename/">filename</a><small>1</small></li>
  
    <li><a href="/tags/fs/">fs</a><small>1</small></li>
  
    <li><a href="/tags/function/">function</a><small>3</small></li>
  
    <li><a href="/tags/function-declaration/">function-declaration</a><small>2</small></li>
  
    <li><a href="/tags/function-expression/">function-expression</a><small>3</small></li>
  
    <li><a href="/tags/function-innovation/">function-innovation</a><small>1</small></li>
  
    <li><a href="/tags/generator/">generator</a><small>1</small></li>
  
    <li><a href="/tags/get/">get</a><small>1</small></li>
  
    <li><a href="/tags/ghost/">ghost</a><small>1</small></li>
  
    <li><a href="/tags/github/">github</a><small>1</small></li>
  
    <li><a href="/tags/goal/">goal</a><small>1</small></li>
  
    <li><a href="/tags/google-keep/">google-keep</a><small>1</small></li>
  
    <li><a href="/tags/grunt/">grunt</a><small>1</small></li>
  
    <li><a href="/tags/grunt-contrib-jshint/">grunt-contrib-jshint</a><small>1</small></li>
  
    <li><a href="/tags/grunt-contrib-watch/">grunt-contrib-watch</a><small>1</small></li>
  
    <li><a href="/tags/guard/">guard</a><small>1</small></li>
  
    <li><a href="/tags/head/">head</a><small>2</small></li>
  
    <li><a href="/tags/hipchat/">hipchat</a><small>1</small></li>
  
    <li><a href="/tags/hong-kong/">hong-kong</a><small>1</small></li>
  
    <li><a href="/tags/hosted-zone/">hosted-zone</a><small>1</small></li>
  
    <li><a href="/tags/http/">http</a><small>1</small></li>
  
    <li><a href="/tags/id/">id</a><small>1</small></li>
  
    <li><a href="/tags/iife/">iife</a><small>2</small></li>
  
    <li><a href="/tags/immediately-invoked-function-expression/">immediately-invoked-function-expression</a><small>2</small></li>
  
    <li><a href="/tags/interpreter/">interpreter</a><small>1</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>8</small></li>
  
    <li><a href="/tags/jelly-bean/">jelly-bean</a><small>1</small></li>
  
    <li><a href="/tags/join/">join</a><small>1</small></li>
  
    <li><a href="/tags/jshint/">jshint</a><small>1</small></li>
  
    <li><a href="/tags/json/">json</a><small>1</small></li>
  
    <li><a href="/tags/koa/">koa</a><small>1</small></li>
  
    <li><a href="/tags/line-divider/">line-divider</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>3</small></li>
  
    <li><a href="/tags/livereload/">livereload</a><small>1</small></li>
  
    <li><a href="/tags/markdown/">markdown</a><small>2</small></li>
  
    <li><a href="/tags/mi3/">mi3</a><small>1</small></li>
  
    <li><a href="/tags/mongodb/">mongodb</a><small>1</small></li>
  
    <li><a href="/tags/mongoexport/">mongoexport</a><small>1</small></li>
  
    <li><a href="/tags/multi-parts/">multi-parts</a><small>1</small></li>
  
    <li><a href="/tags/named-function/">named-function</a><small>1</small></li>
  
    <li><a href="/tags/nb/">nb</a><small>1</small></li>
  
    <li><a href="/tags/network/">network</a><small>1</small></li>
  
    <li><a href="/tags/new-orleans/">new-orleans</a><small>1</small></li>
  
    <li><a href="/tags/new-york/">new-york</a><small>1</small></li>
  
    <li><a href="/tags/node/">node</a><small>8</small></li>
  
    <li><a href="/tags/nodemon/">nodemon</a><small>1</small></li>
  
    <li><a href="/tags/normalization/">normalization</a><small>1</small></li>
  
    <li><a href="/tags/nota-bene/">nota-bene</a><small>1</small></li>
  
    <li><a href="/tags/note-well/">note-well</a><small>1</small></li>
  
    <li><a href="/tags/npm/">npm</a><small>1</small></li>
  
    <li><a href="/tags/npm-module/">npm-module</a><small>1</small></li>
  
    <li><a href="/tags/null/">null</a><small>1</small></li>
  
    <li><a href="/tags/object/">object</a><small>1</small></li>
  
    <li><a href="/tags/parseint/">parseint</a><small>1</small></li>
  
    <li><a href="/tags/path/">path</a><small>3</small></li>
  
    <li><a href="/tags/ping/">ping</a><small>1</small></li>
  
    <li><a href="/tags/preinstall/">preinstall</a><small>1</small></li>
  
    <li><a href="/tags/process/">process</a><small>1</small></li>
  
    <li><a href="/tags/proxy/">proxy</a><small>1</small></li>
  
    <li><a href="/tags/query-parameter/">query-parameter</a><small>1</small></li>
  
    <li><a href="/tags/record-set/">record-set</a><small>1</small></li>
  
    <li><a href="/tags/relative-path/">relative-path</a><small>1</small></li>
  
    <li><a href="/tags/remote-working/">remote-working</a><small>1</small></li>
  
    <li><a href="/tags/repl/">repl</a><small>1</small></li>
  
    <li><a href="/tags/require/">require</a><small>1</small></li>
  
    <li><a href="/tags/rlwrap/">rlwrap</a><small>1</small></li>
  
    <li><a href="/tags/route-53/">route-53</a><small>1</small></li>
  
    <li><a href="/tags/scaffolding/">scaffolding</a><small>1</small></li>
  
    <li><a href="/tags/script/">script</a><small>1</small></li>
  
    <li><a href="/tags/settings/">settings</a><small>1</small></li>
  
    <li><a href="/tags/shabang/">shabang</a><small>1</small></li>
  
    <li><a href="/tags/sharing/">sharing</a><small>1</small></li>
  
    <li><a href="/tags/shebang/">shebang</a><small>1</small></li>
  
    <li><a href="/tags/shell/">shell</a><small>1</small></li>
  
    <li><a href="/tags/shell-script/">shell-script</a><small>1</small></li>
  
    <li><a href="/tags/source-maps/">source-maps</a><small>1</small></li>
  
    <li><a href="/tags/split/">split</a><small>1</small></li>
  
    <li><a href="/tags/sshuttle/">sshuttle</a><small>1</small></li>
  
    <li><a href="/tags/startup/">startup</a><small>1</small></li>
  
    <li><a href="/tags/stats/">stats</a><small>1</small></li>
  
    <li><a href="/tags/success/">success</a><small>1</small></li>
  
    <li><a href="/tags/sync/">sync</a><small>1</small></li>
  
    <li><a href="/tags/time-zone/">time-zone</a><small>1</small></li>
  
    <li><a href="/tags/todo/">todo</a><small>1</small></li>
  
    <li><a href="/tags/train/">train</a><small>1</small></li>
  
    <li><a href="/tags/travel/">travel</a><small>1</small></li>
  
    <li><a href="/tags/tumblr/">tumblr</a><small>1</small></li>
  
    <li><a href="/tags/twitter/">twitter</a><small>1</small></li>
  
    <li><a href="/tags/ubuntu/">ubuntu</a><small>1</small></li>
  
    <li><a href="/tags/uglifyjs/">uglifyjs</a><small>1</small></li>
  
    <li><a href="/tags/underscore/">underscore</a><small>1</small></li>
  
    <li><a href="/tags/unix/">unix</a><small>1</small></li>
  
    <li><a href="/tags/username/">username</a><small>1</small></li>
  
    <li><a href="/tags/vim/">vim</a><small>2</small></li>
  
    <li><a href="/tags/vimdiff/">vimdiff</a><small>1</small></li>
  
    <li><a href="/tags/vpn/">vpn</a><small>1</small></li>
  
    <li><a href="/tags/web-framework/">web-framework</a><small>1</small></li>
  
    <li><a href="/tags/xiaomi/">xiaomi</a><small>1</small></li>
  
    <li><a href="/tags/yeoman/">yeoman</a><small>1</small></li>
  
    <li><a href="/tags/yield/">yield</a><small>1</small></li>
  
    <li><a href="/tags/小米/">小米</a><small>1</small></li>
  
    <li><a href="/tags/小米手机/">小米手机</a><small>1</small></li>
  
  </ul>
</div>


  

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Chao Huang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>